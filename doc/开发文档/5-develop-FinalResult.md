# 敏感信息判断+理由+来源判断模块(廖梓宇)


## 功能1：prompt拼接+大模型问答

**输入参数**：判断归类结果

**输出参数**：最终结果

**时间**：8.18-8.25

**功能详述**：将判断结果和原始文本以及对应的匹配分数构造成prompt，向大模型提出问答，构造prompt模板，生成最终结果，以json的的形式返回。

| 判断归类结果         | prompt拼接 | prompt模板问答 | 最终结果|
|----------------|------------------|----------|------------|
|  知识图谱判断：属于“处方药” → “医疗健康数据” → “敏感个人信息”c检索结果：向量库中返回的原始文本 + 匹配分数 |1. 实体：降压药<br>2. 类型：药物<br>3. 检索结果：向量库中返回的原始文本 + 匹配分数<br>4. 知识图谱判断：属于“处方药” → “医疗健康数据” → “敏感个人信息”<br>5. 任务目标：判断该实体是否属于敏感信息，生成合规说明 | 你是数据合规分析专家，请根据以下信息判断实体是否属于“敏感个人信息”，并说明原因。<br>【实体】：降压药  <br>【类型】：药物  <br>【匹配上下文】：  <br>1. “降压药是高血压治疗中常用的处方药。”  <br>2. “根据《个人信息保护法》第三条，处方药记录属于敏感个人信息。”<br>【知识图谱路径】：<br>降压药 → 处方药 → 医疗服务数据 → 敏感个人信息<br>请给出判断：是否敏感？属于哪一类？相关法律依据是什么？<br>【实体】：降压药  <br>【类型】：药物  <br>【匹配上下文】：  <br>1. “降压药是高血压治疗中常用的处方药。”  <br>2. “根据《个人信息保护法》第三条，处方药记录属于敏感个人信息。”<br>【知识图谱路径】：<br>降压药 → 处方药 → 医疗服务数据 → 敏感个人信息<br>请给出判断：是否敏感？属于哪一类？相关法律依据是什么？<br>【实体】：降压药  <br>【类型】：药物  <br>【匹配上下文】：  <br>1. “降压药是高血压治疗中常用的处方药。”  <br>2. “根据《个人信息保护法》第三条，处方药记录属于敏感个人信息。”<br>【知识图谱路径】：<br>降压药 → 处方药 → 医疗服务数据 → 敏感个人信息<br>请给出判断：是否敏感？属于哪一类？相关法律依据是什么？|{<br>"entity": "降压药",<br> "is_sensitive": true,<br>  "category": "医疗服务数据",<br>  "legal_basis": "《个人信息保护法》第三条",<br> "explanation": "降压药属于处方药，归属医疗服务记录，法律明确定义为敏感信息。"<br>}|


## 功能2 ：总体实验数据统计

**输入参数**：原始文本 + 正确的归类信息（100条）

**输出参数**：统计准确率、精确率、召回率、F1值

**时间**：8.25-8.31

**功能详述**：统计最终结果的所有数据、供论文使用



### 二分类混淆矩阵

|              | 预测为正 | 预测为负 |
|--------------|----------|----------|
| **实际为正** | TP       | FN       |
| **实际为负** | FP       | TN       |

---

### 常用指标计算公式

1. **准确率（Accuracy）**  
   Accuracy = (TP + TN) / (TP + TN + FP + FN)

2. **精确率（Precision）**  
   Precision = TP / (TP + FP)  
   含义：预测为正的样本中，有多少是真的正样本。

3. **召回率（Recall / Sensitivity）**  
   Recall = TP / (TP + FN)  
   含义：所有真实正样本中，有多少被预测对了。

4. **F1 值（F1-Score）**  
   F1 = 2 × (Precision × Recall) / (Precision + Recall)  
   含义：Precision 与 Recall 的调和平均值。

---

### 备注
- **TP**（True Positive）：预测为正，且实际为正  
- **FP**（False Positive）：预测为正，但实际为负  
- **TN**（True Negative）：预测为负，且实际为负  
- **FN**（False Negative）：预测为负，但实际为正

